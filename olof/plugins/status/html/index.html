<html>

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <title>Gyrid Server status panel</title>
    <link rel="stylesheet" type="text/css" href="static/style.css">
    <link rel="icon" type="image/png" href="static/monitor-window-flow.png">
    <script type="text/javascript" src="static/jquery.js"></script>

<script type="text/javascript">
function waitForMsg(){
        $.ajax({
            type: "GET",
            url: "content",

            async: true, /* If set to non-async, browser shows page as "Loading.."*/
            cache: false,
            timeout:5000, /* Timeout in ms */

            success: function(data){ /* called when request to barge.php completes */
                $("#content").html(data);
                setTimeout(
                    'waitForMsg()', /* Request next message */
                    10000 /* ..after 1 seconds */
                );
            },

            error: function(data){ /* called when request to barge.php completes */
                $("#content").html('<p id="title">Failed to connect to Gyrid Server</p>');
                setTimeout(
                    'waitForMsg()', /* Request next message */
                    10000 /* ..after 1 seconds */
                );
            },
        });
    };

    $(document).ready(function(){
        waitForMsg(); /* Start the inital request */
    });
</script>
</head>

<body>

<p id="header"><img src="static/header.png" /></p>

<div id="content"></div>

</body>
</html>
